<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>–í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞</title>
  <style>
    :root{ --accent:#ff2e6d; --bg1:#ffe6f0; --bg2:#ffd1e3; }
    *{ box-sizing:border-box; }
    body{
      margin:0; min-height:100vh; overflow:hidden;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
      background: radial-gradient(1100px 800px at 30% 20%, var(--bg2), var(--bg1));
      display:flex; align-items:center; justify-content:center;
      padding: env(safe-area-inset-top) 12px env(safe-area-inset-bottom);
    }
    .card{
      width:min(390px, 92vw);
      height:min(690px, 92vh);
      border-radius:22px;
      background: rgba(255,255,255,.55);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,.18);
      overflow:hidden;
      position:relative;
      padding:16px 14px;
    }
    .hearts{ position:absolute; inset:0; pointer-events:none; z-index:1; overflow:hidden; }
    .heart{
      position:absolute; bottom:-12%;
      left: var(--x);
      font-size: var(--s);
      opacity:0;
      filter: drop-shadow(0 10px 12px rgba(0,0,0,.18));
      animation: floatUp var(--d) linear infinite;
      animation-delay: var(--delay);
    }
    @keyframes floatUp{
      0%{ transform: translate3d(var(--dx1),0,0) rotate(var(--r)); opacity:0; }
      12%{ opacity:1; }
      100%{ transform: translate3d(var(--dx2),-130vh,0) rotate(calc(var(--r) + 35deg)); opacity:0; }
    }

    h1{
      margin: 8px 0 8px;
      text-align:center;
      color:var(--accent);
      font-size: clamp(28px, 7vw, 42px);
      line-height:1.08;
      letter-spacing:-0.02em;
      position:relative; z-index:2;
    }
    .sub{
      margin:0 0 12px;
      text-align:center;
      font-size:13px;
      opacity:.72;
      position:relative; z-index:2;
    }

    /* –ó–æ–Ω–∞ –∏–≥—Ä—ã ‚Äî –∫–Ω–æ–ø–∫–∞ ‚Äú–ù–µ—Ç‚Äù –í–°–ï–ì–î–ê –æ—Å—Ç–∞—ë—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë */
    .playArea{
      position:relative;
      width:100%;
      height: 55%;
      min-height: 300px;
      border-radius:18px;
      background: rgba(255,255,255,.35);
      border: 1px solid rgba(255,46,109,.12);
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
      z-index:2;
      touch-action: manipulation;
    }
    .btnRow{
      position:relative;
      width:100%;
      max-width: 340px;
      display:flex;
      gap:14px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
    }
    button{
      border:0;
      border-radius:14px;
      padding:14px 26px;
      font-size: clamp(18px, 5vw, 22px);
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      cursor:pointer;
      transition: transform .15s ease;
    }
    #yes{ background:var(--accent); color:#fff; }
    #no { background:#e6e6e6; color:#222; }

    /* –í–∑—Ä—ã–≤ —Å–µ—Ä–¥–µ—á–µ–∫ */
    .boom{
      position:absolute;
      left:50%; top:50%;
      transform:translate(-50%,-50%);
      font-size:var(--bs);
      opacity:1;
      animation: burst .95s ease-out forwards;
      filter: drop-shadow(0 10px 12px rgba(0,0,0,.25));
      pointer-events:none;
    }
    @keyframes burst{
      0%{ transform:translate(-50%,-50%) translate(0,0) scale(.9); opacity:1; }
      100%{ transform:translate(-50%,-50%) translate(var(--bdx),var(--bdy)) scale(1.25); opacity:0; }
    }

    /* –§–∏–Ω–∞–ª */
    .finalBg{
      position:absolute; inset:-10%;
      background-image: var(--bg);
      background-size: cover;
      background-position:center;
      animation: zoomy 8s ease-in-out infinite;
      filter: saturate(1.05) contrast(1.05);
      z-index:0;
    }
    @keyframes zoomy{
      0%{ transform: scale(1.04) translate3d(0,0,0); }
      50%{ transform: scale(1.14) translate3d(-1.5%,-1%,0); }
      100%{ transform: scale(1.04) translate3d(0,0,0); }
    }
    .overlay{
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,.62));
      z-index:1;
    }
    .finalWrap{
      position:relative; z-index:2;
      height:100%;
      display:flex; flex-direction:column;
      align-items:center; justify-content:center;
      text-align:center;
      color:#fff;
      padding:18px;
      text-shadow:0 10px 25px rgba(0,0,0,.35);
      gap:12px;
    }
    .finalTitle{
      font-size: clamp(28px, 7vw, 52px);
      line-height:1.05;
    }
    .finalBtn{
      background: rgba(255,255,255,.18);
      color:#fff;
      border: 1px solid rgba(255,255,255,.28);
      padding: 12px 18px;
      border-radius: 14px;
      font-size: 16px;
      backdrop-filter: blur(8px);
    }
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="hearts" id="hearts"></div>

    <h1>–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? üíò</h1>
    <p class="sub">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–æ–ø—Ä–æ–±—É–π –Ω–∞–∂–∞—Ç—å ¬´–ù–µ—Ç¬ª üòà</p>

    <div class="playArea" id="area">
      <div class="btnRow" id="btnRow">
        <button id="yes" type="button">–î–∞</button>
        <button id="no" type="button">–ù–µ—Ç</button>
      </div>
    </div>
  </div>

<script>
  // 1) –í–°–¢–ê–í–¨ –°–Æ–î–ê –°–°–´–õ–ö–£ –ù–ê –§–û–¢–û (–ø—Ä—è–º–∞—è .jpg/.png)
  const PHOTO_URL = "PHOTO_URL";

  // 2) –í–°–¢–ê–í–¨ –°–Æ–î–ê –°–°–´–õ–ö–£ –ù–ê –û–§–ò–¶–ò–ê–õ–¨–ù–´–ô YOUTUBE –¢–†–ï–ö/–ö–õ–ò–ü
  const YOUTUBE_URL = "YOUTUBE_URL";

  const hearts = document.getElementById("hearts");
  const area = document.getElementById("area");
  const yes = document.getElementById("yes");
  const no  = document.getElementById("no");
  const card = document.getElementById("card");

  // –õ–µ—Ç–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏
  function makeHeart(layer){
    const h = document.createElement("div");
    h.className = "heart";
    h.textContent = "üíû";
    h.style.setProperty("--x", (Math.random()*100).toFixed(2) + "%");
    h.style.setProperty("--s", (14 + Math.random()*54).toFixed(0) + "px");
    h.style.setProperty("--d", (4 + Math.random()*7).toFixed(2) + "s");
    h.style.setProperty("--delay", (-Math.random()*4).toFixed(2) + "s");
    h.style.setProperty("--dx1", (Math.random()*40 - 20).toFixed(1) + "%");
    h.style.setProperty("--dx2", (Math.random()*60 - 30).toFixed(1) + "%");
    h.style.setProperty("--r", (Math.random()*60 - 30).toFixed(0) + "deg");
    layer.appendChild(h);
    setTimeout(()=>h.remove(), 12000);
  }
  for(let i=0;i<26;i++) setTimeout(()=>makeHeart(hearts), i*120);
  setInterval(()=>makeHeart(hearts), 240);

  // –ú—É–ª—å—Ç–∏-–≤–∏–±—Ä–æ (–Ω–∞ iPhone –±—Ä–∞—É–∑–µ—Ä –æ–±—ã—á–Ω–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)
  function multiVibrate(){
    if (navigator.vibrate) navigator.vibrate([90,70,90,70,140,80,140,90,180]);
  }

  // –í–∑—Ä—ã–≤ —Å–µ—Ä–¥–µ—á–µ–∫
  function explode(count=70){
    for(let i=0;i<count;i++){
      const b = document.createElement("div");
      b.className = "boom";
      b.textContent = "üíû";
      const ang = Math.random()*Math.PI*2;
      const dist = 60 + Math.random()*190;
      b.style.setProperty("--bdx", (Math.cos(ang)*dist).toFixed(1) + "px");
      b.style.setProperty("--bdy", (Math.sin(ang)*dist).toFixed(1) + "px");
      b.style.setProperty("--bs", (16 + Math.random()*56).toFixed(0) + "px");
      area.appendChild(b);
      setTimeout(()=>b.remove(), 1100);
    }
  }

  // ‚Äú–ù–µ—Ç‚Äù –æ—Å—Ç–∞—ë—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ playArea
  const phrases = ["–¢—ã —É–≤–µ—Ä–µ–Ω? üòÖ","–ü–æ–¥—É–º–∞–π –µ—â—ë","–≠—Ç–æ –æ—à–∏–±–∫–∞","–ù–µ –ø—Ä–∏–Ω–∏–º–∞—é –æ—Ç–≤–µ—Ç","–ñ–º–∏ –î–∞ üòå"];
  let pi = 0;

  function moveNo(e){
    if(e) e.preventDefault();

    const r = area.getBoundingClientRect();
    const bw = no.offsetWidth || 90;
    const bh = no.offsetHeight || 54;
    const pad = 12;

    const maxX = Math.max(pad, r.width - bw - pad);
    const maxY = Math.max(pad, r.height - bh - pad);

    const x = pad + Math.random() * (maxX - pad);
    const y = pad + Math.random() * (maxY - pad);

    no.style.position = "absolute";
    no.style.left = x + "px";
    no.style.top  = y + "px";

    no.textContent = phrases[Math.min(pi, phrases.length-1)];
    pi++;

    yes.style.transform = "scale(" + (1 + pi*0.14) + ")";
  }

  no.addEventListener("mouseenter", moveNo);
  no.addEventListener("click", moveNo);
  no.addEventListener("touchstart", moveNo, {passive:false});

  yes.addEventListener("click", ()=>{
    multiVibrate();
    explode(80);

    setTimeout(()=>{
      card.innerHTML =
        `<div class="finalBg" style="--bg:url('${PHOTO_URL}')"></div>
         <div class="overlay"></div>
         <div class="finalWrap">
           <div class="finalTitle">–í–∞–ª–µ—Ä–∞, –µ—à—å —è–π—Ü–∞ üíû</div>
           <button class="finalBtn" type="button" onclick="window.open('${YOUTUBE_URL}','_blank')">
             –í–∫–ª—é—á–∏—Ç—å ¬´–û—Ç–æ–ø–ª–µ–Ω–∏–µ¬ª ‚ñ∂Ô∏é
           </button>
         </div>`;
    }, 650);
  });
</script>
</body>
</html>
